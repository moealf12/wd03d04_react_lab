{"ast":null,"code":"var _jsxFileName = \"/Users/majd/Desktop/react_film/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport FilmListing from './component/FilmListing';\nimport FilmDetails from './component/FilmDetails';\nimport TMDB from './TMDB';\nimport axios from \"axios\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFaveToggle = film => {\n      const faves = [...this.state.faves];\n      const filmIndex = faves.indexOf(film);\n\n      if (filmIndex !== -1) {\n        faves.splice(filmIndex, 1);\n        console.log(\"Removing \".concat(film.title, \" From Favors\"));\n      } else {\n        faves.push(film);\n        console.log(\"Adding \".concat(film.title, \" To Favors\"));\n      }\n\n      this.setState({\n        faves\n      });\n    };\n\n    this.handleDetailsClick = film => {\n      const url = \"https://api.themoviedb.org/3/movie/\".concat(film.id, \"?api_key=\").concat(TMDB.api_key, \"&append_to_response=videos,images&language=en\");\n      axios({\n        method: 'GET',\n        url: url\n      }).then(response => {\n        this.setState({\n          current: response.data\n        });\n      }).catch(e => {\n        console.log(\"There is an Error With axios \".concat(e));\n      });\n    };\n\n    this.state = {\n      films: TMDB.films,\n      faves: [],\n      current: {}\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"film-library\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(FilmListing, {\n      handleDetailsClick: this.handleDetailsClick,\n      films: this.state.films,\n      faves: this.state.faves,\n      onFaveToggle: this.handleFaveToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(FilmDetails, {\n      film: this.state.current,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/majd/Desktop/react_film/src/App.js"],"names":["React","Component","FilmListing","FilmDetails","TMDB","axios","App","constructor","props","handleFaveToggle","film","faves","state","filmIndex","indexOf","splice","console","log","title","push","setState","handleDetailsClick","url","id","api_key","method","then","response","current","data","catch","e","films","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,MAAMC,GAAN,SAAkBL,SAAlB,CAA4B;AAE1BM,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;;AADgB,SASlBC,gBATkB,GASEC,IAAD,IAAU;AAE3B,YAAMC,KAAK,GAAG,CAAC,GAAG,KAAKC,KAAL,CAAWD,KAAf,CAAd;AACA,YAAME,SAAS,GAAGF,KAAK,CAACG,OAAN,CAAcJ,IAAd,CAAlB;;AAEA,UAAIG,SAAS,KAAK,CAAC,CAAnB,EAAqB;AAClBF,QAAAA,KAAK,CAACI,MAAN,CAAaF,SAAb,EAAwB,CAAxB;AACAG,QAAAA,OAAO,CAACC,GAAR,oBAAwBP,IAAI,CAACQ,KAA7B;AACF,OAHD,MAGK;AACHP,QAAAA,KAAK,CAACQ,IAAN,CAAWT,IAAX;AACAM,QAAAA,OAAO,CAACC,GAAR,kBAAsBP,IAAI,CAACQ,KAA3B;AACD;;AACD,WAAKE,QAAL,CAAc;AAACT,QAAAA;AAAD,OAAd;AACD,KAtBiB;;AAAA,SAwBlBU,kBAxBkB,GAwBIX,IAAD,IAAU;AAE7B,YAAMY,GAAG,gDAAyCZ,IAAI,CAACa,EAA9C,sBAA4DnB,IAAI,CAACoB,OAAjE,kDAAT;AAEAnB,MAAAA,KAAK,CAAC;AACJoB,QAAAA,MAAM,EAAE,KADJ;AAEJH,QAAAA,GAAG,EAAEA;AAFD,OAAD,CAAL,CAGGI,IAHH,CAGQC,QAAQ,IAAI;AAClB,aAAKP,QAAL,CAAc;AAAEQ,UAAAA,OAAO,EAAED,QAAQ,CAACE;AAApB,SAAd;AACD,OALD,EAMCC,KAND,CAMOC,CAAC,IAAI;AACVf,QAAAA,OAAO,CAACC,GAAR,wCAA4Cc,CAA5C;AACD,OARD;AASH,KArCmB;;AAEhB,SAAKnB,KAAL,GAAa;AACXoB,MAAAA,KAAK,EAAE5B,IAAI,CAAC4B,KADD;AAEXrB,MAAAA,KAAK,EAAE,EAFI;AAGXiB,MAAAA,OAAO,EAAE;AAHE,KAAb;AAKD;;AA+BDK,EAAAA,MAAM,GAAE;AACJ,WACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,WAAD;AAAa,MAAA,kBAAkB,EAAE,KAAKZ,kBAAtC;AAA0D,MAAA,KAAK,EAAE,KAAKT,KAAL,CAAWoB,KAA5E;AAAmF,MAAA,KAAK,EAAE,KAAKpB,KAAL,CAAWD,KAArG;AAA4G,MAAA,YAAY,EAAE,KAAKF,gBAA/H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,WAAD;AAAa,MAAA,IAAI,EAAE,KAAKG,KAAL,CAAWgB,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ;AAMH;;AA/CyB;;AAkD5B,eAAetB,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport FilmListing from './component/FilmListing';\nimport FilmDetails from './component/FilmDetails';\nimport TMDB from './TMDB';\nimport axios from \"axios\";\nclass App extends Component {\n\n  constructor(props){\n    super(props)\n    this.state = {\n      films: TMDB.films,\n      faves: [],\n      current: {}\n    }\n  }\n\n  handleFaveToggle = (film) => {\n\n    const faves = [...this.state.faves];\n    const filmIndex = faves.indexOf(film)\n\n    if (filmIndex !== -1){\n       faves.splice(filmIndex, 1);\n       console.log(`Removing ${film.title} From Favors`)\n    }else{\n      faves.push(film);\n      console.log(`Adding ${film.title} To Favors`)\n    }\n    this.setState({faves})\n  }\n\n  handleDetailsClick = (film) => {\n\n    const url = `https://api.themoviedb.org/3/movie/${film.id}?api_key=${TMDB.api_key}&append_to_response=videos,images&language=en`\n\n    axios({\n      method: 'GET',\n      url: url\n    }).then(response => {\n      this.setState({ current: response.data })\n    })\n    .catch(e => {\n      console.log(`There is an Error With axios ${e}`)\n    });\n}\n  render(){\n      return (\n          <div className=\"film-library\">\n              <FilmListing handleDetailsClick={this.handleDetailsClick} films={this.state.films} faves={this.state.faves} onFaveToggle={this.handleFaveToggle}/>\n              <FilmDetails film={this.state.current} />\n          </div>\n      );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}